<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Scheduling</title>
        <link rel="stylesheet" href=/assets/css/styles.css>
    </head>
    <body>
        <div class="l-flex-container">
            <div class="l-small-column">
                <nav>
    <ul>
        <li><a href="">Home</a></li>
        
            <li>
                <a href="/topics/01_resource.html">
                    Resource Sharing
                </a>
            </li>
        
            <li>
                <a href="/topics/02_processes.html">
                    More About Processes
                </a>
            </li>
        
            <li>
                <a href="/topics/03_lde.html">
                    Limited Direct Execution
                </a>
            </li>
        
            <li>
                <a href="/topics/04_scheduling.html">
                    Scheduling
                </a>
            </li>
        
    </ul>
</nav>

            </div><!-- .l-small-column -->
            <div class="l-large-column">
                <header>
    <h1>Marcus's Operating System Notes</h1>
</header>

                <main><h1 id="scheduling">Scheduling</h1>

<h2 id="the-problem">The Problem</h2>

<p>We have <em>k</em> <strong>jobs</strong> ready to run but only <em>n</em> CPUs. (“Jobs” refers to processes, threads, etc.) The <strong>policy</strong> determines which jobs get assigned to which CPUs. Let’s put our thinking caps on because we’ll have to work with algorithms here. The naive solution would be to assign jobs randomly, and this makes a good baseline, but it’s far from optimal. Scheduling is a wide open design choice and the criteria for “good service” include:</p>

<ul>
  <li><strong>Throughput</strong> is the “number of processes that complete per unit time”</li>
  <li><strong>Turnaround time</strong> (TT) is the “time for each process to complete.” It is calculated as the time of completion minus the time of <em>arrival</em>.</li>
  <li><strong>Response time</strong> (RT) is the “time from request to first response.” It is the first run time minus the arrival time.</li>
</ul>

<p>Execution time is not turnaround time because turnaround time includes the time a process spends in states other than running. We also want a fair scheduler, but such a thing is impossible to measure reliably. There exists no one algorithm to maximize all criteria. <em>Batch systems</em> prioritize throughput and turnaround time while <em>interactive systems</em> prioritize response time. An example of the former would be supercomputers while the latter would be PCs.</p>

<p>The operating system calls the scheduler when processes change state or exit.</p>

<h2 id="the-algorithms">The Algorithms</h2>

<h3 id="fifo">FIFO</h3>

<p><strong>First-in first-out</strong> (FIFO) scheduling is self-explanatory. I will literally not explain it. This algorithm can also be called <em>first-come first-serve</em> (FCFS) The problem with this algorithm is if a job in front of the queue has a long turnaround time, then the faster jobs in the back of the queue have to wait. This causes a loss in average turnaround time because the faster jobs could have been scheduled sooner.</p>

<h3 id="sjf-and-stcf">SJF and STCF</h3>

<p><strong>Shortest Job First</strong> (SJF) schedules the shortest job first. This algorithm has been proven to give optimal average turnaround time <em>if the the jobs arrive simultaneously</em>. A drawback is a “starvation problem,” where a long job is perpetually pushed to the back and is never run. A version of SJF is “non-preemptive,” in which the OS gives the CPU to a job and does not relinquish control of the CPU until the job is complete. In the other version of SJF, called “preemptive” or “<strong>shortest time-to-completion first</strong>” (STCF), a new job with a shorter burst time than the burst time remaining on the current job will be given control of the CPU. <a href="https://www.youtube.com/watch?v=lnE7Pr99dfo">This video</a> provides a helpful explanation.</p>

<p>A shortcoming of the SJF and STCF algorithms is that the OS might not know how long each job will take to complete. It usually doesn’t. Minimizing response time in <em>all</em> cases is also impossible.</p>

<h3 id="rr">RR</h3>

<p><strong>Round Robin</strong> (RR) ensures fairness and prevents starvation by giving each job a fixed length of time called a <strong>quantum</strong>, which is the Latin word for “How much?” After this quantum expires, the current job is preempted and then moved to the back of the FIFO queue. One possible drawback is that context switching time could dominate the system. Higher average turnaround times could also be a result of RR. Nevertheless, round robin provides a great average response time.</p>

<p>How does one pick a good quantum length? It should certainly be greater than context switching time length. The length of the quantum is decided empirically, i.e., values are picked based on how well they perform in actual OS settings. The typical value is between one and 100 milliseconds. It is fixed in the system.</p>

<h3 id="improving-throughput">Improving Throughput</h3>

<p>We can improve throughput if jobs require I/O <em>and</em> computation. We can run the job needing I/O and another job needing computation at the same time.</p>
</main>
                <footer>
    <p>
    The information on this page should be distributed freely and must be used
    for educational purposes only. While this website is wholly the creation of
    Marcus Bartlett, all content is from Professor Juhau Hu's TCSS 422
    class at University of Washington Tacoma during the quarter of Spring 2022.
    Some course content is therefore adapted from the course textbook
    <a href="https://pages.cs.wisc.edu/~remzi/OSTEP/">Operating Systems: Three
        Easy Pieces
    </a> by Remzi and Andrea Arpaci-Dusseau
    The header image was created by
    <a href="https://unsplash.com/photos/jXd2FSvcRr8">Umberto</a>. Anything that
    appears in quotation marks without citations is taken from Juhua's
    lecture slides. Please do not send the copyright police after me.
    </p>
    <p>
        If you see any problem with this website, please email me at
        <a href="mailto:mabartlett@hotmail.com">mabartlett@hotmail.com</a>.
    </p>
</footer>

            </div><!-- l-large-column -->
        </div><!-- .l-flex-container -->
    </body>
</html>
